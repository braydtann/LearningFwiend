// Mock data for LearningFwiend LMS clone
export const mockUsers = [
  // Admin Users
  {
    id: '1',
    name: 'John Admin',
    email: 'admin@learningfwiend.com',
    role: 'admin',
    avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-01-15'
  },
  {
    id: '2',
    name: 'Lisa Rodriguez',
    email: 'lisa.rodriguez@learningfwiend.com',
    role: 'admin',
    avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b739?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-01-08'
  },
  
  // Instructor Users
  {
    id: '3',
    name: 'Sarah Wilson',
    email: 'sarah.wilson@learningfwiend.com',
    role: 'instructor',
    avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-01-20',
    department: 'Web Development'
  },
  {
    id: '4',
    name: 'Dr. Michael Chen',
    email: 'michael.chen@learningfwiend.com',
    role: 'instructor',
    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-01-18',
    department: 'Data Science'
  },
  {
    id: '5',
    name: 'Emma Thompson',
    email: 'emma.thompson@learningfwiend.com',
    role: 'instructor',
    avatar: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-02-01',
    department: 'Digital Marketing'
  },
  {
    id: '6',
    name: 'James Davis',
    email: 'james.davis@learningfwiend.com',
    role: 'instructor',
    avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-02-15',
    department: 'Business Management'
  },
  {
    id: '7',
    name: 'Dr. Priya Patel',
    email: 'priya.patel@learningfwiend.com',
    role: 'instructor',
    avatar: 'https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-03-01',
    department: 'Cybersecurity'
  },
  
  // Learner Users
  {
    id: '8',
    name: 'Mike Johnson',
    email: 'mike.johnson@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-01-25'
  },
  {
    id: '9',
    name: 'Jennifer Williams',
    email: 'jennifer.williams@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-01-30'
  },
  {
    id: '10',
    name: 'David Brown',
    email: 'david.brown@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1463453091185-61582044d556?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-02-05'
  },
  {
    id: '11',
    name: 'Maria Garcia',
    email: 'maria.garcia@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1546967191-fdfb13ed6b1e?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-02-12'
  },
  {
    id: '12',
    name: 'Robert Taylor',
    email: 'robert.taylor@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-02-20'
  },
  {
    id: '13',
    name: 'Linda Anderson',
    email: 'linda.anderson@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1580489944761-15a19d654956?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-02-28'
  },
  {
    id: '14',
    name: 'Kevin Lee',
    email: 'kevin.lee@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-03-10'
  },
  {
    id: '15',
    name: 'Angela Martinez',
    email: 'angela.martinez@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-03-15'
  },
  {
    id: '16',
    name: 'Thomas Wilson',
    email: 'thomas.wilson@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-03-22'
  },
  {
    id: '17',
    name: 'Jessica Clark',
    email: 'jessica.clark@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-04-01'
  },
  {
    id: '18',
    name: 'Christopher Moore',
    email: 'christopher.moore@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1556157382-97eda2d62296?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-04-08'
  },
  {
    id: '19',
    name: 'Amanda White',
    email: 'amanda.white@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-04-15'
  },
  {
    id: '20',
    name: 'Steven Hall',
    email: 'steven.hall@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1507591064344-4c6ce005b128?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-04-22'
  },
  {
    id: '21',
    name: 'Michelle Young',
    email: 'michelle.young@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1485206412256-701ccc5b93ca?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-05-01'
  },
  {
    id: '22',
    name: 'Daniel Harris',
    email: 'daniel.harris@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1560250097-0b93528c311a?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-05-10'
  },
  {
    id: '23',
    name: 'Nicole Lewis',
    email: 'nicole.lewis@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1607746882042-944635dfe10e?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-05-18'
  },
  {
    id: '24',
    name: 'Ryan King',
    email: 'ryan.king@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-05-25'
  },
  {
    id: '25',
    name: 'Stephanie Scott',
    email: 'stephanie.scott@learningfwiend.com',
    role: 'learner',
    avatar: 'https://images.unsplash.com/photo-1502823403499-6ccfcf4fb453?w=100&h=100&fit=crop&crop=face',
    joinDate: '2024-06-01'
  }
];

export const mockCourses = [
  // Web Development Courses
  {
    id: '1',
    title: 'React Development Fundamentals',
    description: 'Learn the basics of React development including components, hooks, and state management.',
    category: 'Web Development',
    instructor: 'Sarah Wilson',
    instructorId: '3',
    duration: '8 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=300&h=200&fit=crop',
    enrolledStudents: 45,
    totalLessons: 25,
    isPublic: true,
    status: 'published',
    createdAt: '2024-01-20',
    modules: [
      {
        id: 'm1',
        title: 'Getting Started with React',
        lessons: [
          { id: 'l1', title: 'Introduction to React', type: 'video', duration: '15 min', videoUrl: 'https://www.youtube.com/embed/Tn6-PIqc4UM' },
          { id: 'l2', title: 'Setting up Development Environment', type: 'video', duration: '12 min', videoUrl: 'https://drive.google.com/file/d/1BxBicpQ09uO5m_Lyp9oWw7vtkMEMFHNB/view' },
          { id: 'l3', title: 'Your First React App', type: 'text', duration: '10 min', content: 'Learn to create your first React application...' },
          { id: 'l4', title: 'Understanding JSX', type: 'video', duration: '18 min', videoUrl: 'https://www.youtube.com/embed/7fPXI_MnBOY' },
          { id: 'l5', title: 'Components Basics', type: 'text', duration: '20 min', content: 'Understanding React components...' },
          { id: 'l6', title: 'React Quiz 1', type: 'quiz', duration: '15 min', quizId: 'quiz1' }
        ]
      }
    ]
  },
  {
    id: '2',
    title: 'Advanced JavaScript ES6+',
    description: 'Master modern JavaScript features including async/await, destructuring, and modules.',
    category: 'Web Development',
    instructor: 'Sarah Wilson',
    instructorId: '3',
    duration: '6 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1627398242454-45a1465c2479?w=300&h=200&fit=crop',
    enrolledStudents: 38,
    totalLessons: 18,
    isPublic: true,
    status: 'published',
    createdAt: '2024-01-25',
    modules: [
      {
        id: 'm1',
        title: 'Modern JavaScript Features',
        lessons: [
          { id: 'l1', title: 'Arrow Functions and Template Literals', type: 'video', duration: '20 min', videoUrl: 'https://www.youtube.com/embed/h33Srr5J9nY' },
          { id: 'l2', title: 'Destructuring and Spread Operator', type: 'quiz', duration: '15 min', quizId: 'quiz2' }
        ]
      }
    ]
  },
  
  // Data Science Courses
  {
    id: '3',
    title: 'Python for Data Science',
    description: 'Complete introduction to Python programming for data analysis and machine learning.',
    category: 'Data Science',
    instructor: 'Dr. Michael Chen',
    instructorId: '4',
    duration: '10 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1526379879527-8559ecfcaec0?w=300&h=200&fit=crop',
    enrolledStudents: 52,
    totalLessons: 30,
    isPublic: true,
    status: 'published',
    createdAt: '2024-02-01',
    modules: [
      {
        id: 'm1',
        title: 'Python Fundamentals',
        lessons: [
          { id: 'l1', title: 'Introduction to Python', type: 'video', duration: '25 min', videoUrl: 'https://www.youtube.com/embed/_uQrJ0TkZlc' },
          { id: 'l2', title: 'Python Basics Quiz', type: 'quiz', duration: '20 min', quizId: 'quiz3' }
        ]
      }
    ]
  },
  {
    id: '4',
    title: 'Machine Learning Fundamentals',
    description: 'Learn the core concepts of machine learning with hands-on Python implementations.',
    category: 'Data Science',
    instructor: 'Dr. Michael Chen',
    instructorId: '4',
    duration: '12 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1555949963-aa79dcee981c?w=300&h=200&fit=crop',
    enrolledStudents: 34,
    totalLessons: 35,
    isPublic: true,
    status: 'published',
    createdAt: '2024-02-15',
    modules: [
      {
        id: 'm1',
        title: 'Introduction to ML',
        lessons: [
          { id: 'l1', title: 'What is Machine Learning?', type: 'video', duration: '30 min', videoUrl: 'https://www.youtube.com/embed/ukzFI9rgwfU' }
        ]
      }
    ]
  },
  
  // Digital Marketing Courses
  {
    id: '5',
    title: 'Digital Marketing Mastery',
    description: 'Comprehensive course covering SEO, social media marketing, and content strategy.',
    category: 'Digital Marketing',
    instructor: 'Emma Thompson',
    instructorId: '5',
    duration: '8 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=300&h=200&fit=crop',
    enrolledStudents: 67,
    totalLessons: 22,
    isPublic: true,
    status: 'published',
    createdAt: '2024-02-20',
    modules: [
      {
        id: 'm1',
        title: 'SEO Fundamentals',
        lessons: [
          { id: 'l1', title: 'Introduction to SEO', type: 'video', duration: '20 min', videoUrl: 'https://www.youtube.com/embed/xsVTqzratPs' },
          { id: 'l2', title: 'SEO Quiz', type: 'quiz', duration: '15 min', quizId: 'quiz4' }
        ]
      }
    ]
  },
  {
    id: '6',
    title: 'Social Media Strategy',
    description: 'Learn to create effective social media campaigns across all major platforms.',
    category: 'Digital Marketing',
    instructor: 'Emma Thompson',
    instructorId: '5',
    duration: '6 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1611926653458-09294b3142bf?w=300&h=200&fit=crop',
    enrolledStudents: 43,
    totalLessons: 18,
    isPublic: true,
    status: 'published',
    createdAt: '2024-03-01',
    modules: [
      {
        id: 'm1',
        title: 'Platform Strategies',
        lessons: [
          { id: 'l1', title: 'Facebook Marketing', type: 'video', duration: '25 min', videoUrl: 'https://www.youtube.com/embed/8oe3aEl52V4' }
        ]
      }
    ]
  },
  
  // Business Management Courses
  {
    id: '7',
    title: 'Project Management Essentials',
    description: 'Master the fundamentals of project management using Agile and traditional methodologies.',
    category: 'Business Management',
    instructor: 'James Davis',
    instructorId: '6',
    duration: '10 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=300&h=200&fit=crop',
    enrolledStudents: 56,
    totalLessons: 28,
    isPublic: true,
    status: 'published',
    createdAt: '2024-02-28',
    modules: [
      {
        id: 'm1',
        title: 'Project Management Fundamentals',
        lessons: [
          { id: 'l1', title: 'Introduction to PM', type: 'video', duration: '22 min', videoUrl: 'https://www.youtube.com/embed/2Ox8bnRc5z0' }
        ]
      }
    ]
  },
  {
    id: '8',
    title: 'Leadership and Team Management',
    description: 'Develop essential leadership skills for managing high-performing teams.',
    category: 'Business Management',
    instructor: 'James Davis',
    instructorId: '6',
    duration: '8 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=300&h=200&fit=crop',
    enrolledStudents: 41,
    totalLessons: 20,
    isPublic: true,
    status: 'published',
    createdAt: '2024-03-15',
    modules: [
      {
        id: 'm1',
        title: 'Leadership Principles',
        lessons: [
          { id: 'l1', title: 'What Makes a Great Leader?', type: 'video', duration: '28 min', videoUrl: 'https://www.youtube.com/embed/llKvV8_T95M' }
        ]
      }
    ]
  },
  
  // Cybersecurity Courses
  {
    id: '9',
    title: 'Cybersecurity Fundamentals',
    description: 'Essential cybersecurity concepts including threat assessment and risk management.',
    category: 'Cybersecurity',
    instructor: 'Dr. Priya Patel',
    instructorId: '7',
    duration: '12 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=300&h=200&fit=crop',
    enrolledStudents: 39,
    totalLessons: 32,
    isPublic: true,
    status: 'published',
    createdAt: '2024-03-10',
    modules: [
      {
        id: 'm1',
        title: 'Introduction to Cybersecurity',
        lessons: [
          { id: 'l1', title: 'Cyber Threats Overview', type: 'video', duration: '25 min', videoUrl: 'https://www.youtube.com/embed/bPVaOlJ6ln0' }
        ]
      }
    ]
  },
  {
    id: '10',
    title: 'Network Security Protocols',
    description: 'Deep dive into network security, firewalls, and intrusion detection systems.',
    category: 'Cybersecurity',
    instructor: 'Dr. Priya Patel',
    instructorId: '7',
    duration: '10 weeks',
    thumbnail: 'https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=300&h=200&fit=crop',
    enrolledStudents: 28,
    totalLessons: 26,
    isPublic: true,
    status: 'published',
    createdAt: '2024-04-01',
    modules: [
      {
        id: 'm1',
        title: 'Network Fundamentals',
        lessons: [
          { id: 'l1', title: 'OSI Model and Security', type: 'video', duration: '30 min', videoUrl: 'https://www.youtube.com/embed/vv4y_uOneC0' }
        ]
      }
    ]
  }
];

export const mockEnrollments = [
  {
    id: '1',
    userId: '3',
    courseId: '1',
    enrolledAt: '2024-03-10',
    progress: 65,
    completedLessons: ['l1', 'l2', 'l3', 'l4'],
    lastAccessed: '2024-03-15',
    timeSpent: 12.5 // hours
  },
  {
    id: '2',
    userId: '3',
    courseId: '2',
    enrolledAt: '2024-03-08',
    progress: 25,
    completedLessons: ['l7'],
    lastAccessed: '2024-03-12',
    timeSpent: 8.2 // hours
  },
  // Additional enrollments for better analytics
  {
    id: '3',
    userId: '2', // instructor as learner
    courseId: '3',
    enrolledAt: '2024-02-15',
    progress: 100,
    completedLessons: ['l8', 'l9'],
    lastAccessed: '2024-03-01',
    timeSpent: 15.8
  },
  {
    id: '4',
    userId: '1', // admin as learner
    courseId: '1',
    enrolledAt: '2024-01-20',
    progress: 45,
    completedLessons: ['l1', 'l2'],
    lastAccessed: '2024-03-18',
    timeSpent: 7.3
  },
  {
    id: '5',
    userId: '2',
    courseId: '2',
    enrolledAt: '2024-02-01',
    progress: 80,
    completedLessons: ['l7', 'l8'],
    lastAccessed: '2024-03-10',
    timeSpent: 18.7
  },
  {
    id: '6',
    userId: '1',
    courseId: '3',
    enrolledAt: '2024-03-01',
    progress: 30,
    completedLessons: ['l8'],
    lastAccessed: '2024-03-14',
    timeSpent: 4.5
  }
];

export const mockCertificates = [
  {
    id: '1',
    userId: '3',
    courseId: '1',
    courseName: 'React Development Fundamentals',
    issuedAt: '2024-03-15',
    certificateUrl: '/certificates/cert-1.pdf'
  }
];

export const mockAnnouncements = [
  {
    id: '1',
    courseId: '1',
    title: 'New Module Available',
    message: 'The Advanced Hooks module is now available for all enrolled students.',
    createdAt: '2024-03-10',
    author: 'Sarah Wilson'
  },
  {
    id: '2',
    courseId: '2',
    title: 'Assignment Due Date Extended',
    message: 'The Python fundamentals assignment due date has been extended to next Friday.',
    createdAt: '2024-03-08',
    author: 'Sarah Wilson'
  }
];

export const getCurrentUser = () => {
  const stored = localStorage.getItem('currentUser');
  return stored ? JSON.parse(stored) : mockUsers[2]; // Default to learner
};

export const setCurrentUser = (user) => {
  localStorage.setItem('currentUser', JSON.stringify(user));
};

export const getEnrolledCourses = (userId) => {
  const enrollments = mockEnrollments.filter(e => e.userId === userId);
  return enrollments.map(enrollment => {
    const course = mockCourses.find(c => c.id === enrollment.courseId);
    return {
      ...course,
      ...enrollment
    };
  });
};

export const getCourseProgress = (userId, courseId) => {
  const enrollment = mockEnrollments.find(e => e.userId === userId && e.courseId === courseId);
  return enrollment ? enrollment.progress : 0;
};

export const mockPrograms = [
  {
    id: '1',
    name: 'Full Stack Development Certification',
    description: 'Complete full-stack development program covering frontend, backend, and deployment',
    courseIds: ['1', '2'], // React Development, Python for Data Science
    courseOrder: ['1', '2'], // Specific order for courses
    duration: '16 weeks',
    difficulty: 'Intermediate',
    createdBy: '1', // Admin
    createdAt: '2024-01-15',
    status: 'active',
    enrolledStudents: 12,
    totalCourses: 2,
    estimatedHours: 120
  },
  {
    id: '2',
    name: 'Digital Marketing Professional',
    description: 'Comprehensive digital marketing program from basics to advanced strategies',
    courseIds: ['3'], // Digital Marketing Mastery
    courseOrder: ['3'],
    duration: '8 weeks',
    difficulty: 'Beginner',
    createdBy: '1',
    createdAt: '2024-02-01',
    status: 'active',
    enrolledStudents: 8,
    totalCourses: 1,
    estimatedHours: 40
  }
];

export const mockProgramEnrollments = [
  {
    id: '1',
    programId: '1',
    userId: '3',
    enrolledAt: '2024-03-01',
    currentCourseId: '1',
    completedCourses: [],
    overallProgress: 25,
    status: 'active'
  }
];

export const getProgramsForAdmin = () => {
  return mockPrograms;
};

export const getUserPrograms = (userId) => {
  const enrollments = mockProgramEnrollments.filter(e => e.userId === userId);
  return enrollments.map(enrollment => {
    const program = mockPrograms.find(p => p.id === enrollment.programId);
    return {
      ...program,
      ...enrollment
    };
  });
};

export const getProgramCourses = (programId) => {
  const program = mockPrograms.find(p => p.id === programId);
  if (!program) return [];
  
  return program.courseOrder.map(courseId => 
    mockCourses.find(course => course.id === courseId)
  ).filter(Boolean);
};

export const getUserCertificates = (userId) => {
  return mockCertificates.filter(cert => cert.userId === userId);
};

export const mockClassrooms = [
  {
    id: '1',
    name: 'Q1 2024 New Agent Training',
    description: 'Comprehensive training program for new customer service agents',
    trainerId: '2', // Sarah Wilson
    trainerName: 'Sarah Wilson',
    courseIds: ['1', '3'], // React Development and Digital Marketing
    studentIds: ['3'], // Mike Johnson
    startDate: '2024-03-01',
    endDate: '2024-04-30',
    status: 'active',
    createdAt: '2024-02-20',
    metrics: {
      totalStudents: 1,
      completedStudents: 0,
      averageProgress: 45,
      averageTimeToCompletion: null,
      averageTestScore: 85,
      completionRate: 0
    }
  },
  {
    id: '2',
    name: 'Advanced Python Bootcamp',
    description: 'Intensive Python training for data science applications',
    trainerId: '2',
    trainerName: 'Sarah Wilson',
    courseIds: ['2'], // Python for Data Science
    studentIds: ['3'],
    startDate: '2024-02-15',
    endDate: '2024-05-15',
    status: 'active',
    createdAt: '2024-02-01',
    metrics: {
      totalStudents: 1,
      completedStudents: 0,
      averageProgress: 25,
      averageTimeToCompletion: null,
      averageTestScore: 78,
      completionRate: 0
    }
  }
];

export const mockClassroomEnrollments = [
  {
    id: '1',
    classroomId: '1',
    studentId: '3',
    enrolledAt: '2024-03-01',
    progress: 45,
    completedCourses: [],
    testScores: [
      { courseId: '1', score: 85, completedAt: '2024-03-15' }
    ],
    totalTimeSpent: 1200, // minutes
    lastAccessed: '2024-03-20'
  },
  {
    id: '2',
    classroomId: '2',
    studentId: '3',
    enrolledAt: '2024-02-15',
    progress: 25,
    completedCourses: [],
    testScores: [
      { courseId: '2', score: 78, completedAt: '2024-03-01' }
    ],
    totalTimeSpent: 800, // minutes
    lastAccessed: '2024-03-18'
  }
];

export const getClassroomsForTrainer = (trainerId) => {
  return mockClassrooms.filter(classroom => classroom.trainerId === trainerId);
};

export const getClassroomStudents = (classroomId) => {
  const classroom = mockClassrooms.find(c => c.id === classroomId);
  if (!classroom) return [];
  
  return classroom.studentIds.map(studentId => {
    const user = mockUsers.find(u => u.id === studentId);
    const enrollment = mockClassroomEnrollments.find(e => e.classroomId === classroomId && e.studentId === studentId);
    return {
      ...user,
      ...enrollment
    };
  });
};

export const getStudentClassrooms = (studentId) => {
  const enrollments = mockClassroomEnrollments.filter(e => e.studentId === studentId);
  return enrollments.map(enrollment => {
    const classroom = mockClassrooms.find(c => c.id === enrollment.classroomId);
    return {
      ...classroom,
      ...enrollment
    };
  });
};

// Quiz-related mock data
export const mockQuizAttempts = [
  {
    id: '1',
    userId: '3',
    courseId: '1',
    lessonId: 'l6',
    quizId: 'quiz1',
    attempt: 1,
    startedAt: '2024-03-15T10:00:00Z',
    completedAt: '2024-03-15T10:08:30Z',
    timeSpent: 510, // seconds
    score: 85,
    totalPoints: 20,
    earnedPoints: 17,
    passed: true,
    isTest: false,
    answers: [
      { questionId: 'q1', answer: 0, correct: true, points: 5 },
      { questionId: 'q2', answer: 0, correct: true, points: 5 },
      { questionId: 'q3', answer: true, correct: true, points: 3 },
      { questionId: 'q4', answer: 'To create reusable UI components', correct: true, points: 4 }
    ],
    status: 'completed'
  },
  {
    id: '2',
    userId: '3',
    courseId: '1',
    lessonId: 'l6',
    quizId: 'quiz1',
    attempt: 2,
    startedAt: '2024-03-16T14:00:00Z',
    completedAt: null,
    timeSpent: 0,
    score: null,
    totalPoints: 20,
    earnedPoints: null,
    passed: null,
    isTest: false,
    answers: [],
    status: 'in-progress'
  },
  // Test attempts
  {
    id: '3',
    userId: '3',
    courseId: '1',
    lessonId: 'final-test',
    quizId: 'final-test-1',
    attempt: 1,
    startedAt: '2024-03-18T09:00:00Z',
    completedAt: '2024-03-18T10:15:00Z',
    timeSpent: 4500, // 75 minutes
    score: 88,
    totalPoints: 100,
    earnedPoints: 88,
    passed: true,
    isTest: true,
    answers: [],
    status: 'completed'
  },
  // Additional quiz attempts for analytics
  {
    id: '4',
    userId: '2',
    courseId: '2',
    lessonId: 'l7',
    quizId: 'quiz2',
    attempt: 1,
    startedAt: '2024-03-12T11:00:00Z',
    completedAt: '2024-03-12T11:07:45Z',
    timeSpent: 465,
    score: 92,
    totalPoints: 25,
    earnedPoints: 23,
    passed: true,
    isTest: false,
    answers: [],
    status: 'completed'
  },
  {
    id: '5',
    userId: '1',
    courseId: '1',
    lessonId: 'l6',
    quizId: 'quiz1',
    attempt: 1,
    startedAt: '2024-03-14T15:30:00Z',
    completedAt: '2024-03-14T15:42:15Z',
    timeSpent: 735,
    score: 75,
    totalPoints: 20,
    earnedPoints: 15,
    passed: true,
    isTest: false,
    answers: [],
    status: 'completed'
  },
  {
    id: '6',
    userId: '2',
    courseId: '3',
    lessonId: 'final-test',
    quizId: 'final-test-3',
    attempt: 1,
    startedAt: '2024-03-10T13:00:00Z',
    completedAt: '2024-03-10T14:30:00Z',
    timeSpent: 5400, // 90 minutes
    score: 94,
    totalPoints: 100,
    earnedPoints: 94,
    passed: true,
    isTest: true,
    answers: [],
    status: 'completed'
  },
  {
    id: '7',
    userId: '3',
    courseId: '2',
    lessonId: 'l7',
    quizId: 'quiz2',
    attempt: 1,
    startedAt: '2024-03-11T16:00:00Z',
    completedAt: '2024-03-11T16:09:20Z',
    timeSpent: 560,
    score: 68,
    totalPoints: 25,
    earnedPoints: 17,
    passed: false,
    isTest: false,
    answers: [],
    status: 'completed'
  },
  {
    id: '8',
    userId: '1',
    courseId: '3',
    lessonId: 'l8',
    quizId: 'quiz3',
    attempt: 1,
    startedAt: '2024-03-16T10:00:00Z',
    completedAt: '2024-03-16T10:12:30Z',
    timeSpent: 750,
    score: 82,
    totalPoints: 30,
    earnedPoints: 25,
    passed: true,
    isTest: false,
    answers: [],
    status: 'completed'
  }
];

export const mockQuizResults = [
  {
    id: '1',
    userId: '3',
    courseId: '1',
    lessonId: 'l6',
    quizId: 'quiz1',
    bestScore: 85,
    averageScore: 85,
    totalAttempts: 1,
    completedAttempts: 1,
    passed: true,
    firstAttemptScore: 85,
    lastAttemptAt: '2024-03-15T10:08:30Z',
    timeSpentTotal: 510 // total seconds across all attempts
  }
];

// Helper functions for quiz data
export const getQuizAttempts = (userId, courseId, lessonId, quizId) => {
  return mockQuizAttempts.filter(attempt => 
    attempt.userId === userId && 
    attempt.courseId === courseId && 
    attempt.lessonId === lessonId && 
    attempt.quizId === quizId
  );
};

export const getQuizResults = (userId, courseId, lessonId, quizId) => {
  return mockQuizResults.find(result => 
    result.userId === userId && 
    result.courseId === courseId && 
    result.lessonId === lessonId && 
    result.quizId === quizId
  );
};

export const getUserQuizResults = (userId) => {
  return mockQuizResults.filter(result => result.userId === userId);
};

export const getInstructorQuizAnalytics = (instructorId) => {
  // In real app, would filter by instructor's courses
  const instructorCourses = mockCourses.filter(course => course.instructorId === instructorId);
  const courseIds = instructorCourses.map(course => course.id);
  
  const relevantResults = mockQuizResults.filter(result => 
    courseIds.includes(result.courseId)
  );
  
  return {
    totalQuizzes: instructorCourses.reduce((total, course) => {
      const quizLessons = course.modules?.reduce((moduleTotal, module) => {
        return moduleTotal + (module.lessons?.filter(lesson => lesson.type === 'quiz')?.length || 0);
      }, 0) || 0;
      return total + quizLessons;
    }, 0),
    totalAttempts: relevantResults.reduce((total, result) => total + result.totalAttempts, 0),
    averageScore: relevantResults.length > 0 
      ? relevantResults.reduce((total, result) => total + result.averageScore, 0) / relevantResults.length 
      : 0,
    passRate: relevantResults.length > 0 
      ? (relevantResults.filter(result => result.passed).length / relevantResults.length) * 100 
      : 0
  };
};